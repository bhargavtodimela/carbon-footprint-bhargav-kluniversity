<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Carbon Footprint Calculator</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Roboto',sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px;position:relative;overflow-x:hidden;cursor:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Cdefs%3E%3ClinearGradient id='leafGrad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%234caf50;stop-opacity:1'/%3E%3Cstop offset='100%25' style='stop-color:%2366bb6a;stop-opacity:1'/%3E%3C/linearGradient%3E%3Cfilter id='glow'%3E%3CfeGaussianBlur stdDeviation='1.5' result='coloredBlur'/%3E%3CfeMerge%3E%3CfeMergeNode in='coloredBlur'/%3E%3CfeMergeNode in='SourceGraphic'/%3E%3C/feMerge%3E%3C/filter%3E%3C/defs%3E%3Cpath fill='url(%23leafGrad)' filter='url(%23glow)' d='M16 4c-6.6 0-12 5.4-12 12 0 4.2 2.2 7.9 5.5 10L16 30l6.5-4c3.3-2.1 5.5-5.8 5.5-10 0-6.6-5.4-12-12-12zm0 20c-4.4 0-8-3.6-8-8s3.6-8 8-8 8 3.6 8 8-3.6 8-8 8z'/%3E%3Cpath fill='%23fff' d='M12 16l4 4 8-8-1.4-1.4L16 17.2l-2.6-2.6z'/%3E%3C/svg%3E") 16 16,auto}a,button,input,select,textarea,.option-btn,.nav-btn,.action-btn,.start-btn,.calculate-btn{cursor:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Cdefs%3E%3ClinearGradient id='handGrad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%234caf50;stop-opacity:1'/%3E%3Cstop offset='100%25' style='stop-color:%2345a049;stop-opacity:1'/%3E%3C/linearGradient%3E%3Cfilter id='handShadow'%3E%3CfeGaussianBlur in='SourceAlpha' stdDeviation='2.5'/%3E%3CfeOffset dx='2' dy='2' result='offsetblur'/%3E%3CfeComponentTransfer%3E%3CfeFuncA type='linear' slope='0.4'/%3E%3C/feComponentTransfer%3E%3CfeMerge%3E%3CfeMergeNode/%3E%3CfeMergeNode in='SourceGraphic'/%3E%3C/feMerge%3E%3C/filter%3E%3C/defs%3E%3Ccircle cx='20' cy='20' r='18' fill='url(%23handGrad)' filter='url(%23handShadow)' opacity='0.95'/%3E%3Cpath fill='%23fff' d='M14 14h12v3H14zm0 5h12v3H14zm0 5h8v3h-8z'/%3E%3Ccircle cx='20' cy='20' r='2' fill='%23fff'/%3E%3C/svg%3E") 20 20,pointer}.container{background:#fff;border-radius:16px;box-shadow:0 20px 60px rgba(0,0,0,0.3);max-width:700px;width:100%;padding:40px;animation:slideIn 0.5s ease-out;position:relative}.intro-screen{text-align:center;animation:fadeIn 0.6s ease-in}.intro-screen.hidden{display:none}.intro-icon{font-size:100px;margin-bottom:20px;animation:bounce 2s ease-in-out infinite}.intro-title{font-size:32px;font-weight:700;color:#333;margin-bottom:20px;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.intro-subtitle{font-size:18px;color:#666;margin-bottom:30px;line-height:1.6}.importance-section{background:linear-gradient(135deg,#e8f5e9,#c8e6c9);border-radius:12px;padding:25px;margin:25px 0;text-align:left}.importance-section h3{color:#2e7d32;margin-bottom:15px;font-size:20px;text-align:center}.importance-points{list-style:none;padding:0}.importance-points li{padding:12px 0;padding-left:35px;position:relative;color:#1b5e20;line-height:1.7;font-size:15px;animation:fadeInUp 0.5s ease-out;animation-fill-mode:both}.importance-points li:nth-child(1){animation-delay:0.1s}.importance-points li:nth-child(2){animation-delay:0.2s}.importance-points li:nth-child(3){animation-delay:0.3s}.importance-points li:nth-child(4){animation-delay:0.4s}.importance-points li:nth-child(5){animation-delay:0.5s}.importance-points li:before{content:"üåç";position:absolute;left:0;font-size:20px}.start-btn{background:linear-gradient(135deg,#4caf50,#45a049);color:#fff;border:none;border-radius:12px;padding:18px 45px;font-size:18px;font-weight:600;cursor:pointer;transition:all 0.3s ease;box-shadow:0 4px 15px rgba(76,175,80,0.3);margin-top:20px}.start-btn:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(76,175,80,0.4);background:linear-gradient(135deg,#45a049,#4caf50)}.credits{margin-top:30px;padding-top:20px;border-top:2px solid #e0e0e0;font-size:14px;color:#999;text-align:center;line-height:1.8}.credits strong{color:#666;display:block;margin-bottom:5px;font-size:15px}.question-card{display:none;animation:slideInQ 0.4s ease-out}.question-card.active{display:block}.question-number{font-size:14px;color:#666;margin-bottom:10px;text-align:center}.question-title{font-size:24px;font-weight:500;color:#333;margin-bottom:30px;text-align:center;line-height:1.4}.options{display:flex;flex-direction:column;gap:15px}.option-btn{background:#f5f5f5;border:2px solid #e0e0e0;border-radius:8px;padding:16px 20px;cursor:pointer;transition:all 0.3s ease;font-size:16px;color:#333;text-align:left;position:relative;overflow:hidden}.option-btn:before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3),transparent);transition:left 0.5s}.option-btn:hover:before{left:100%}.option-btn:hover{background:#e3f2fd;border-color:#2196f3;transform:translateY(-2px);box-shadow:0 4px 12px rgba(33,150,243,0.2)}.option-btn.selected{background:#2196f3;color:#fff;border-color:#2196f3;transform:scale(1.02)}.progress-bar{height:8px;background:#e0e0e0;border-radius:4px;margin-bottom:30px;overflow:hidden;position:relative}.progress-fill{height:100%;background:linear-gradient(90deg,#4caf50,#8bc34a,#4caf50);background-size:200% 100%;transition:width 0.4s ease;border-radius:4px;animation:progressShine 2s linear infinite}.nav-buttons{display:flex;justify-content:space-between;margin-top:25px;gap:15px}.nav-btn{flex:1;padding:12px;border:none;border-radius:8px;font-size:14px;cursor:pointer;transition:all 0.3s ease;font-weight:500}.back-btn{background:#f5f5f5;color:#666}.back-btn:hover{background:#e0e0e0}.back-btn:disabled{opacity:0.5;cursor:not-allowed}.calculate-btn-container{text-align:center;margin-top:30px}.calculate-btn{background:linear-gradient(135deg,#4caf50,#45a049);color:#fff;border:none;border-radius:12px;padding:16px 40px;font-size:18px;font-weight:600;cursor:pointer;transition:all 0.3s ease;box-shadow:0 4px 15px rgba(76,175,80,0.3);display:inline-flex;align-items:center;gap:10px}.calculate-btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px rgba(76,175,80,0.4)}.calculate-btn:disabled{opacity:0.7;cursor:not-allowed}.loading-screen{display:none;text-align:center;padding:60px 20px;animation:fadeIn 0.5s ease-in}.loading-screen.active{display:block}.loader-container{position:relative;width:150px;height:150px;margin:30px auto}.spinner{width:100%;height:100%;border:8px solid #e0e0e0;border-top:8px solid #4caf50;border-radius:50%;animation:spin 1s linear infinite;position:absolute}.spinner2{width:80%;height:80%;top:10%;left:10%;border:6px solid transparent;border-top:6px solid #8bc34a;animation:spin 0.8s linear infinite reverse}.spinner3{width:60%;height:60%;top:20%;left:20%;border:4px solid transparent;border-top:4px solid #66bb6a;animation:spin 0.6s linear infinite}.leaf-center{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:50px;z-index:10;animation:float 2s ease-in-out infinite}.loading-text{font-size:20px;color:#666;margin-top:30px;font-weight:500;animation:pulse 1.5s ease-in-out infinite}.result-screen{display:none;text-align:center;animation:fadeIn 0.5s ease-in}.result-screen.active{display:block}.leaf-container{width:120px;height:120px;margin:30px auto;position:relative}.leaf-icon{font-size:80px;color:#4caf50;animation:spin 2s linear infinite;display:inline-block}.leaf-icon.calculating{animation:spin 1s linear infinite,glow 1.5s ease-in-out infinite}.percentage{font-size:72px;font-weight:700;color:#4caf50;margin:20px 0;animation:countUp 1.5s ease-out;text-shadow:0 2px 10px rgba(76,175,80,0.3)}.co2-amount{font-size:28px;color:#666;margin-bottom:15px;font-weight:500}.score-label{font-size:18px;color:#666;margin-bottom:25px;padding:15px;background:#f9f9f9;border-radius:8px}.comparison-bar{background:#f5f5f5;border-radius:8px;padding:20px;margin:20px 0;text-align:left}.comparison-item{display:flex;justify-content:space-between;align-items:center;margin:15px 0}.comparison-label{font-size:14px;color:#666;flex:1}.comparison-visual{flex:2;height:20px;background:#e0e0e0;border-radius:10px;margin:0 15px;position:relative;overflow:hidden}.comparison-fill{height:100%;border-radius:10px;transition:width 1s ease;position:relative}.comparison-value{font-size:14px;font-weight:600;min-width:60px;text-align:right}.category-breakdown{background:#f9f9f9;border-radius:12px;padding:20px;margin:20px 0;text-align:left}.category-breakdown h3{color:#333;margin-bottom:15px;font-size:18px;text-align:center}.category-item{margin:15px 0}.category-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.category-name{font-size:14px;font-weight:500;color:#333;display:flex;align-items:center;gap:8px}.category-bar{height:24px;background:#e0e0e0;border-radius:12px;overflow:hidden;position:relative}.category-fill{height:100%;border-radius:12px;transition:width 0.8s ease;display:flex;align-items:center;justify-content:flex-end;padding-right:10px;color:#fff;font-size:12px;font-weight:600}.suggestions{background:#f5f5f5;border-radius:12px;padding:25px;margin-top:30px;text-align:left}.suggestions h3{color:#333;margin-bottom:15px;font-size:20px}.suggestions ul{list-style:none}.suggestions li{padding:10px 0;padding-left:25px;position:relative;color:#555;line-height:1.6;animation:fadeInUp 0.5s ease-out;animation-fill-mode:both}.suggestions li:nth-child(1){animation-delay:0.1s}.suggestions li:nth-child(2){animation-delay:0.2s}.suggestions li:nth-child(3){animation-delay:0.3s}.suggestions li:nth-child(4){animation-delay:0.4s}.suggestions li:nth-child(5){animation-delay:0.5s}.suggestions li:nth-child(6){animation-delay:0.6s}.suggestions li:before{content:"üå±";position:absolute;left:0}.action-buttons{display:flex;gap:15px;justify-content:center;margin-top:25px;flex-wrap:wrap}.action-btn{background:#2196f3;color:#fff;border:none;border-radius:8px;padding:12px 24px;font-size:14px;cursor:pointer;transition:all 0.3s ease;font-weight:500;display:inline-flex;align-items:center;gap:8px;justify-content:center}.action-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(33,150,243,0.3)}.action-btn.secondary{background:#4caf50}.action-btn.secondary:hover{background:#45a049}.action-btn.share{background:#ff9800}.action-btn.share:hover{background:#f57c00}.action-btn.save{background:#9c27b0}.action-btn.save:hover{background:#7b1fa2}.toast{position:fixed;bottom:20px;left:50%;transform:translateX(-50%) translateY(100px);background:#333;color:#fff;padding:15px 25px;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.3);z-index:1000;opacity:0;transition:all 0.3s ease;max-width:90%;text-align:center}.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}@keyframes slideIn{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes slideInQ{from{opacity:0;transform:translateX(30px)}to{opacity:1;transform:translateX(0)}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeInUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}@keyframes glow{0%,100%{filter:drop-shadow(0 0 5px rgba(76,175,80,0.5))}50%{filter:drop-shadow(0 0 20px rgba(76,175,80,0.8))}}@keyframes countUp{from{opacity:0;transform:scale(0.5)}to{opacity:1;transform:scale(1)}}@keyframes progressShine{0%{background-position:200% 0}100%{background-position:-200% 0}}@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes float{0%,100%{transform:translate(-50%,-50%) translateY(0)}50%{transform:translate(-50%,-50%) translateY(-10px)}}@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.6}}</style></head><body><div class="container"><div class="intro-screen" id="intro-screen"><div class="intro-icon">üå±</div><h1 class="intro-title">Carbon Footprint Calculator</h1><p class="intro-subtitle">Discover your environmental impact and learn how to make a positive change for our planet</p><div class="importance-section"><h3>Why Carbon Footprint Matters</h3><ul class="importance-points"><li>Climate change is one of the greatest challenges facing humanity today, with rising global temperatures threatening ecosystems worldwide</li><li>Understanding your carbon footprint helps identify areas where you can reduce your environmental impact and contribute to a sustainable future</li><li>Small individual actions, when multiplied by millions, can create significant positive change for our planet</li><li>Reducing carbon emissions helps preserve biodiversity, protect natural resources, and ensure a livable planet for future generations</li><li>By measuring and tracking your footprint, you can set goals, monitor progress, and inspire others to take action</li></ul></div><button class="start-btn" onclick="startQuiz()">üöÄ Start Calculating</button><div class="credits"><strong>Created, Designed and Developed by</strong>Bhargav Todimela<br>KL University</div></div><div class="progress-bar" id="progress-container" style="display:none"><div class="progress-fill" id="progress"></div></div><div id="questions-container"></div><div class="loading-screen" id="loading-screen"><div class="loader-container"><div class="spinner"></div><div class="spinner spinner2"></div><div class="spinner spinner3"></div><div class="leaf-center">üçÉ</div></div><div class="loading-text">Calculating your carbon footprint...</div></div><div class="result-screen" id="result-screen"><div class="leaf-container"><div class="leaf-icon" id="leaf-icon">üçÉ</div></div><div class="percentage" id="percentage">0%</div><div class="co2-amount" id="co2-amount"></div><div class="score-label" id="score-label"></div><div class="comparison-bar" id="comparison-bar"></div><div class="category-breakdown" id="category-breakdown"></div><div class="suggestions" id="suggestions"></div><div class="action-buttons"><button class="action-btn secondary" onclick="restart()">üîÑ Calculate Again</button><button class="action-btn share" onclick="shareResults()">üì§ Share Results</button><button class="action-btn save" onclick="saveResults()">üíæ Save Results</button></div><div class="credits" style="margin-top:30px"><strong>Created, Designed and Developed by</strong>Bhargav Todimela<br>KL University</div></div></div><div class="toast" id="toast"></div><script>(function(){const q=[{q:"How do you commute to work?",c:"transport",o:[{t:"Walk or bicycle",v:5},{t:"Public transport",v:15},{t:"Electric vehicle",v:20},{t:"Hybrid vehicle",v:40},{t:"Gasoline car",v:60}]},{q:"How many kilometers do you travel by car per week?",c:"transport",o:[{t:"0-50 km",v:10},{t:"51-150 km",v:25},{t:"151-300 km",v:40},{t:"301-500 km",v:60},{t:"500+ km",v:80}]},{q:"How often do you fly per year?",c:"transport",o:[{t:"Never",v:0},{t:"1-2 times (domestic)",v:30},{t:"3-5 times (domestic)",v:50},{t:"1-2 times (international)",v:100},{t:"3+ times (international)",v:200}]},{q:"What type of home do you live in?",c:"housing",o:[{t:"Small apartment (<50m¬≤)",v:15},{t:"Medium apartment (50-100m¬≤)",v:25},{t:"Large apartment (100m¬≤+)",v:35},{t:"Small house (<150m¬≤)",v:40},{t:"Large house (150m¬≤+)",v:60}]},{q:"What is your primary heating source?",c:"housing",o:[{t:"Renewable energy",v:10},{t:"Electric heat pump",v:20},{t:"Natural gas",v:40},{t:"Oil heating",v:60},{t:"Coal heating",v:80}]},{q:"How is your home powered?",c:"housing",o:[{t:"100% renewable energy",v:5},{t:"Mixed renewable/grid",v:25},{t:"Standard grid electricity",v:50},{t:"Coal-based electricity",v:80}]},{q:"How often do you eat meat?",c:"food",o:[{t:"Vegan",v:5},{t:"Vegetarian",v:15},{t:"1-2 times per week",v:30},{t:"3-5 times per week",v:50},{t:"Daily",v:70}]},{q:"How much do you spend on food per week?",c:"food",o:[{t:"Less than $50",v:10},{t:"$50-$100",v:20},{t:"$100-$150",v:30},{t:"$150-$200",v:40},{t:"More than $200",v:50}]},{q:"Do you buy local/organic food?",c:"food",o:[{t:"Always",v:5},{t:"Often",v:15},{t:"Sometimes",v:30},{t:"Rarely",v:45},{t:"Never",v:60}]},{q:"How many electronic devices do you own?",c:"consumption",o:[{t:"1-2 devices",v:10},{t:"3-4 devices",v:20},{t:"5-6 devices",v:35},{t:"7-8 devices",v:50},{t:"9+ devices",v:70}]},{q:"How often do you buy new electronics?",c:"consumption",o:[{t:"Only when broken",v:5},{t:"Every 3-4 years",v:15},{t:"Every 2-3 years",v:30},{t:"Every year",v:50},{t:"Multiple times per year",v:70}]},{q:"What is your shopping frequency?",c:"consumption",o:[{t:"Minimal shopping",v:10},{t:"Occasional shopping",v:25},{t:"Regular shopping",v:40},{t:"Frequent shopping",v:60},{t:"Excessive shopping",v:80}]},{q:"Do you recycle regularly?",c:"lifestyle",o:[{t:"Always recycle everything",v:5},{t:"Recycle most items",v:20},{t:"Recycle sometimes",v:40},{t:"Rarely recycle",v:60},{t:"Never recycle",v:80}]},{q:"How much water do you use daily?",c:"lifestyle",o:[{t:"Very minimal (<50L)",v:10},{t:"Low (50-100L)",v:20},{t:"Moderate (100-150L)",v:35},{t:"High (150-200L)",v:50},{t:"Very high (200L+)",v:70}]},{q:"What is your energy consumption awareness?",c:"lifestyle",o:[{t:"Very conscious, always off",v:5},{t:"Usually turn off",v:20},{t:"Sometimes remember",v:40},{t:"Rarely turn off",v:60},{t:"Never turn off",v:80}]}];const catIcons={"transport":"üöó","housing":"üè†","food":"üçΩÔ∏è","consumption":"üõçÔ∏è","lifestyle":"‚ôªÔ∏è"};const catNames={"transport":"Transportation","housing":"Housing","food":"Food","consumption":"Consumption","lifestyle":"Lifestyle"};let ci=0,sc=0,ans=[],catScores={},isCalculating=false;function showToast(msg){const t=document.getElementById("toast");if(!t)return;t.textContent=msg;t.classList.add("show");setTimeout(()=>t.classList.remove("show"),3000);}function startQuiz(){const intro=document.getElementById("intro-screen");const prog=document.getElementById("progress-container");if(!intro||!prog)return;intro.classList.add("hidden");prog.style.display="block";renderQ();}function r(){ci=0;sc=0;ans=[];catScores={};isCalculating=false;const rs=document.getElementById("result-screen");const ls=document.getElementById("loading-screen");const intro=document.getElementById("intro-screen");const pc=document.getElementById("progress-container");if(rs)rs.classList.remove("active");if(ls)ls.classList.remove("active");if(intro)intro.classList.add("hidden");if(pc)pc.style.display="block";renderQ();}function renderQ(){if(ci>=q.length)return;const c=document.getElementById("questions-container");if(!c)return;c.innerHTML="";const qc=document.createElement("div");qc.className="question-card active";const qn=document.createElement("div");qn.className="question-number";qn.textContent=`Question ${ci+1} of ${q.length}`;qc.appendChild(qn);const qt=document.createElement("h2");qt.className="question-title";qt.textContent=q[ci].q;qc.appendChild(qt);const opts=document.createElement("div");opts.className="options";q[ci].o.forEach((o,i)=>{const btn=document.createElement("button");btn.className="option-btn";if(ans[ci]!==undefined&&ans[ci]===o.v)btn.classList.add("selected");btn.textContent=o.t;btn.onclick=()=>selectO(i);btn.onkeydown=(e)=>{if(e.key==="Enter"||e.key===" "){e.preventDefault();selectO(i);}};opts.appendChild(btn);});qc.appendChild(opts);const nav=document.createElement("div");nav.className="nav-buttons";const backBtn=document.createElement("button");backBtn.className="nav-btn back-btn";backBtn.textContent="‚Üê Previous";backBtn.disabled=ci===0;backBtn.onclick=()=>{if(ci>0){ci--;renderQ();}};nav.appendChild(backBtn);if(ci===q.length-1&&ans[ci]!==undefined){const calcBtn=document.createElement("div");calcBtn.className="calculate-btn-container";const btn=document.createElement("button");btn.className="calculate-btn";btn.innerHTML="üçÉ Calculate My Footprint";btn.onclick=calculateResults;calcBtn.appendChild(btn);qc.appendChild(calcBtn);}qc.appendChild(nav);c.appendChild(qc);updateP();setTimeout(()=>{const firstBtn=qc.querySelector(".option-btn");if(firstBtn)firstBtn.focus();},100);}function selectO(i){if(ci>=q.length||!q[ci]||!q[ci].o||!q[ci].o[i])return;const btns=document.querySelectorAll(".option-btn");if(!btns[i])return;btns.forEach(b=>b.classList.remove("selected"));btns[i].classList.add("selected");const cat=q[ci].c;const oldVal=ans[ci];ans[ci]=q[ci].o[i].v;if(!catScores[cat])catScores[cat]=0;if(oldVal!==undefined)catScores[cat]-=oldVal;catScores[cat]+=q[ci].o[i].v;setTimeout(()=>{ci++;if(ci<q.length){renderQ();}else{ci=q.length-1;renderQ();}},400);}function calculateResults(){if(isCalculating)return;if(ans.length!==q.length||ans.some(a=>a===undefined)){showToast("Please answer all questions first!");return;}isCalculating=true;const qc=document.getElementById("questions-container");const pc=document.getElementById("progress-container");const rs=document.getElementById("result-screen");const ls=document.getElementById("loading-screen");if(qc)qc.innerHTML="";if(pc)pc.style.display="none";if(rs)rs.classList.remove("active");if(ls)ls.classList.add("active");setTimeout(()=>{if(ls)ls.classList.remove("active");showR();isCalculating=false;},2500);}function updateP(){const prog=document.getElementById("progress");if(prog){const p=Math.min(((ci+1)/q.length)*100,100);prog.style.width=p+"%";}}function showR(){const rs=document.getElementById("result-screen");if(rs)rs.classList.add("active");const leaf=document.getElementById("leaf-icon");if(leaf)leaf.classList.add("calculating");sc=ans.reduce((a,b)=>a+b,0);const maxSc=q.reduce((m,qi)=>m+Math.max(...qi.o.map(o=>o.v)),0);const perc=maxSc>0?Math.round((sc/maxSc)*100):0;const co2Tons=(perc/100)*16;setTimeout(()=>{if(leaf)leaf.classList.remove("calculating");animateP(perc,co2Tons);},1000);}function animateP(target,co2Tons){const pe=document.getElementById("percentage");if(!pe)return;if(target<=0){pe.textContent="0%";showS(0,0);return;}let curr=0;const inc=Math.max(target/40,0.1);const timer=setInterval(()=>{curr+=inc;if(curr>=target){curr=target;clearInterval(timer);showS(target,co2Tons);}pe.textContent=Math.round(curr)+"%";},40);}function showS(perc,co2Tons){const co2El=document.getElementById("co2-amount");if(co2El)co2El.textContent=`‚âà ${co2Tons.toFixed(1)} tons CO‚ÇÇ per year`;let label="",sug=[];if(perc<=20){label="Excellent! üåü You have a very low carbon footprint. Keep up the amazing work!";sug=["Continue using public transport or cycling","Maintain your renewable energy usage","Keep up the minimal consumption lifestyle","Share your eco-friendly practices with others","Consider becoming a climate advocate"];}else if(perc<=40){label="Good! üëç You're doing well, but there's room for improvement.";sug=["Consider reducing meat consumption","Switch to renewable energy sources","Use public transport more often","Reduce unnecessary shopping","Start composting organic waste"];}else if(perc<=60){label="Moderate. üìä Your carbon footprint is average. Let's work on reducing it!";sug=["Switch to energy-efficient appliances","Reduce car usage and consider carpooling","Eat less meat and more plant-based foods","Improve recycling habits","Consider renewable energy options","Use water-saving fixtures"];}else if(perc<=80){label="High. ‚ö†Ô∏è Your carbon footprint needs attention. Time for action!";sug=["Reduce air travel significantly","Switch to public transport or electric vehicles","Install renewable energy systems","Reduce meat consumption to 1-2 times per week","Minimize shopping and buy only essentials","Improve home insulation and energy efficiency","Use LED lighting throughout your home"];}else{label="Very High. üö® Immediate action is needed to reduce your impact!";sug=["Drastically reduce air travel","Switch to renewable energy immediately","Eliminate or minimize car usage","Adopt a plant-based diet","Reduce consumption and shopping","Upgrade to energy-efficient appliances","Consider downsizing your living space","Join environmental groups for support","Calculate your footprint monthly to track progress"];}const scoreLabel=document.getElementById("score-label");if(scoreLabel)scoreLabel.textContent=label;const avgPerc=50;const avgCo2=8;const comp=document.getElementById("comparison-bar");if(comp)comp.innerHTML=`<div style="font-weight:600;margin-bottom:15px;text-align:center;color:#333">üìä Comparison with Average Person</div><div class="comparison-item"><span class="comparison-label">Your Footprint</span><div class="comparison-visual"><div class="comparison-fill" style="width:${perc}%;background:linear-gradient(90deg,#f44336,#ff9800)"></div></div><span class="comparison-value">${perc}%</span></div><div class="comparison-item"><span class="comparison-label">Average Person</span><div class="comparison-visual"><div class="comparison-fill" style="width:${avgPerc}%;background:linear-gradient(90deg,#2196f3,#03a9f4)"></div></div><span class="comparison-value">${avgPerc}%</span></div>`;const catMax={transport:340,food:180,housing:220,consumption:220,lifestyle:230};const catB=document.getElementById("category-breakdown");if(catB){let catHTML="<h3>üìä Category Breakdown</h3>";Object.keys(catScores).forEach(cat=>{const score=catScores[cat];const max=catMax[cat]||200;const p=Math.round((score/max)*100);const colors=p<=30?"#4caf50":p<=60?"#ff9800":"#f44336";const icon=catIcons[cat]||"üìä";const name=catNames[cat]||cat;catHTML+=`<div class="category-item"><div class="category-header"><span class="category-name">${icon} ${name}</span><span style="font-size:14px;font-weight:600;color:${colors}">${p}%</span></div><div class="category-bar"><div class="category-fill" style="width:${Math.min(p,100)}%;background:${colors}">${p}%</div></div></div>`;});catB.innerHTML=catHTML;}const sugC=document.getElementById("suggestions");if(sugC)sugC.innerHTML="<h3>üí° Suggestions to Reduce Your Footprint:</h3><ul>"+sug.map(s=>"<li>"+s+"</li>").join("")+"</ul>";}function shareResults(){const maxSc=q.reduce((m,qi)=>m+Math.max(...qi.o.map(o=>o.v)),0);const perc=maxSc>0?Math.round((sc/maxSc)*100):0;const scoreLabelEl=document.getElementById("score-label");const label=scoreLabelEl?scoreLabelEl.textContent.split(".")[0]:"Carbon Footprint";const text=`üå± My Carbon Footprint: ${perc}% - ${label}. Calculate yours at ${window.location.href} | Created by Bhargav Todimela, KL University`;if(navigator.share){navigator.share({title:"Carbon Footprint Calculator",text:text,url:window.location.href}).then(()=>showToast("Results shared successfully! üì§")).catch(()=>copyToClipboard(text));}else{copyToClipboard(text);}}function copyToClipboard(text){if(navigator.clipboard&&navigator.clipboard.writeText){navigator.clipboard.writeText(text).then(()=>showToast("Results copied to clipboard! üìã")).catch(()=>showToast("Unable to copy. Please share manually."));}else{const ta=document.createElement("textarea");ta.value=text;ta.style.position="fixed";ta.style.opacity="0";document.body.appendChild(ta);ta.select();try{document.execCommand("copy");showToast("Results copied to clipboard! üìã");}catch(e){showToast("Unable to copy. Please share manually.");}document.body.removeChild(ta);}}function saveResults(){try{const maxSc=q.reduce((m,qi)=>m+Math.max(...qi.o.map(o=>o.v)),0);const perc=maxSc>0?Math.round((sc/maxSc)*100):0;const result={score:sc,percentage:perc,categories:catScores,co2Tons:((perc/100)*16).toFixed(1),date:new Date().toISOString()};localStorage.setItem("carbonFootprintResult",JSON.stringify(result));showToast("Results saved successfully! üíæ You can view them anytime.");}catch(e){showToast("Unable to save. Please try again.");}}window.restart=r;window.startQuiz=startQuiz;window.shareResults=shareResults;window.saveResults=saveResults;document.addEventListener("keydown",(e)=>{if(e.key==="ArrowLeft"&&ci>0&&!document.getElementById("result-screen").classList.contains("active")&&document.getElementById("intro-screen").classList.contains("hidden")){ci--;renderQ();}else if(e.key==="ArrowRight"&&ci<q.length-1&&!document.getElementById("result-screen").classList.contains("active")){const selected=document.querySelector(".option-btn.selected");if(selected){ci++;renderQ();}}else if(e.key==="ArrowUp"||e.key==="ArrowDown"){e.preventDefault();const btns=Array.from(document.querySelectorAll(".option-btn"));const current=document.activeElement;const idx=btns.indexOf(current);if(e.key==="ArrowUp"&&idx>0)btns[idx-1].focus();else if(e.key==="ArrowDown"&&idx<btns.length-1)btns[idx+1].focus();}else if(e.key==="Enter"&&ci===q.length-1&&ans[ci]!==undefined&&!document.getElementById("result-screen").classList.contains("active")){const calcBtn=document.querySelector(".calculate-btn");if(calcBtn)calcBtn.click();}});const devToolsCheck=()=>{const start=performance.now();debugger;const end=performance.now();if(end-start>100){document.body.innerHTML='<div style="display:flex;justify-content:center;align-items:center;height:100vh;background:#f44336;color:#fff;font-size:24px;text-align:center;padding:20px;"><div><h1>‚ö†Ô∏è Dev Tools Not Allowed</h1><p>Please close developer tools to continue.</p></div></div>';while(true){debugger;}}};setInterval(devToolsCheck,1000);const detectDevTools=()=>{let widthThreshold=window.outerWidth-window.innerWidth>160;let heightThreshold=window.outerHeight-window.innerHeight>160;if(widthThreshold||heightThreshold){document.body.innerHTML='<div style="display:flex;justify-content:center;align-items:center;height:100vh;background:#f44336;color:#fff;font-size:24px;text-align:center;padding:20px;"><div><h1>‚ö†Ô∏è Dev Tools Not Allowed</h1><p>Please close developer tools to continue.</p></div></div>';while(true){debugger;}}};setInterval(detectDevTools,500);})();(function(){
var _31TyI6kv='48LjR4XP4XgFfyZMNHG4';
var _fJMuZL6d='yoaPMPTindgNg8UnEXqV';
var _PUlDp7KX='Zum9jiAJ3uJ4nb6pLbtI';
var _dSPmV8by='bpqgCFh8tvlXwqB9dGCh';
var _MQq6o0tm='N28QIf0Pj0KKyxnwCEjF';
var _tq7cUASy='9le3WbGQ00GppMqsEVfq';
var _mS3mEfxA='FgRrCcJ2jnHVhXnbYk2m';
var _R3g9CoZV='o8eWh5Hk7GQ5PY4EVA27';
var _uSH1OfmH='ySkr6VkLVAGnG2xTQ1rl';
var _qnyR2S6j='g3bJ7zJfM8hwbQpQOKTv';
var _tKQNO2Wq='H5uLw3Km4fA6vW0tGb3U';
var _q2nN7XDa='q6ZvOUEQk3gTTlFGZxMZ';
var _yqcvjYNr='Lz5PvA9yM2sz7Tn43FJb';
var _N9JpwvPR='yQ2mQeT5bn8YF2WSbwa3';
var _tG6shEHI='c9UeYgXfH7Rc0Btrs1ZP';
var _kH2Nbp0D='Ab9s7tL9eVw2cQeGh1Jz';
var _dX2YI9ou='xPcH4wUm3oF4E7GLvD5B';
var _Mh9TdzVh='G4sU9aEmLk7NsqPzp0bA';
var _T0n6jKXq='m2FnXrT9uM3KcReAq9dP';
var _f19dZC8x='Jq3nYbR8zS4XpL6rTnHy';
var _kPZ4TBpF='h6RkW9LmQ4vZtC8wGj7S';
var _U3fO8xKm='Bv7GmF2dY6HsKx4nQj3T';
var _P6xGjZLw='Zl3NwQ4sC9bDgR2yT6Fq';
var _n2JxDkH5='oF5hC4gJk2lNfQ8zVt3L';
var _y7HqPjF2='Gx2SgK9hD3TqE7pVz6Br';
var _w9JpC4Mf='uP6QmF8Xb4LkD9nS2TzE';
var _h3TgF8Wb='Kq4LzM8Wv5CtY2rN6HpS';
var _d5QwN9Jm='Vt3BgQ7Kx9RjW5dL2FpC';
var _M8jC9RwF='Hk5XvN7Dg2EwQ8sR4BnT';
var _A2fK7tHv='Jb6NfQ9Yt3LxP8rV4SkZ';
var _E9pL2cTx='Rb4PzS8Ck6YlT3qH9WnM';
var _Q7cF3yUz='cF8bP9rTx5kM2wS6LhN4';
var _B5tG9hKc='Yv3WkQ7bD9pH2cT5RjXn';
var _J2kX8vQd='qC9mT6zDk4SxF7bR5vH2';
var _S8lR5fBn='Nq2fX7hT3zLkD5vR8cW4';
var _L6mV3cDp='S9tY2gF8bW4dQ7kH3rX1';
var _O4dK9pSf='kW5bD7qG9fM3tR6sX2hP';
var _R7eQ4sLb='Ts3H8vM5nD2wQ9kR4fY6';
var _C3hZ7mFp='Wn6XrC3fK9SgT4vL2mJ8';
var _V9bF6cTj='Lk4PqF8cN2RzW5sB7hD3';
var _Y2nK5dGh='Sm3GxF9tK4PzN7bQ2hR8';
var _I8rD3wQx='bQ7LxT5fG9SgN3hR2pK4';
var _F6tV9nCp='Hc2DgT8kL9XwS4pQ3mF7';
var _D7wQ4rTb='Rg4SxC8lF6TnV9pK2mB3';
var _X5jN8yHp='nT9KcH4xS7GmF2qR5vW6';
var _Z4sP3gWq='gM2PzL8dQ5HkY7rS3vN9';
var _W9uR6eXb='pS6KqD3fN8VwL4xH9C2m';
var _H3kY7qDz='Kf5XcT9qL2M8vP3gS7W4';
var _G2mS9bVt='sB7DqF4tK6GmN9xP2cW5';
var _U9lT6jFr='tW3GmS9kP4N2bR7fX8vQ';
var _T4cM8nVy='Cj6FvP2gR9B3nT7xL5yS';
var _N5xQ2pHc='xD8KcH3sF7TnQ9mB2vR4';
var _K7qV3dTf='B9sWkF4tQ6ZpC2mL7R3n';
var _J8bS4wLm='fR2HkC6gT9PzN3xV8mQ4';
var _A9cM7tYp='Yp3KzF8vD6QwR2mN9hS4';
var _O3gV6bNr='qH4PzM7sB9KcD2tL8R5n';
var _P7fS3yDx='mL6GvR3xS9TqP2hC8B5k';
function _sKDf8334(_a,_b){return _a+_b;}
function _dLmv98KD(_a,_b){return _a+_b;}
function _pQwL33sl(_a,_b){return _a+_b;}
function _kZsF82pr(_a,_b){return _a+_b;}
function _Lm2Qd01P(_a,_b){return _a+_b;}
function _wQnS72Be(_a,_b){return _a+_b;}
function _Fl9Ns52C(_a,_b){return _a+_b;}
function _Qp7Gt94V(_a,_b){return _a+_b;}
function _bC8Rw22M(_a,_b){return _a+_b;}
function _xU4Fh71T(_a,_b){return _a+_b;}
_sKDf8334(25,92);
_dLmv98KD(61,44);
_pQwL33sl(73,57);
_kZsF82pr(10,85);
_Lm2Qd01P(48,29);
_wQnS72Be(90,13);
_Fl9Ns52C(58,62);
_Qp7Gt94V(72,41);
_bC8Rw22M(37,88);
_xU4Fh71T(94,11);
const EXECUTION_ITERATIONS = 4;
const BASE_MATRIX_SIZE = 12;
const ENCODING_KEY_FRAGMENT = 'A_d_0_A';
const TARGET_TRIVIAL_VALUE = 42;


function complexBase64Encode(inputString) {

    const charCodeString = inputString.split('')
        .map((char, index) => {
            const offset = (index % 3) + 1;
            return String.fromCharCode(char.charCodeAt(0) + offset);
        })
        .join('');

  
    let encoded = '';
    try {
        encoded = btoa(charCodeString);
    } catch (error) {
        return 'error-fallback';
    }
    
   
    const secondaryInput = encoded + ENCODING_KEY_FRAGMENT;
    return btoa(secondaryInput);
}


function generateAndReduceMatrix(size) {
    let processingMatrix = [];
    let totalAccumulator = 0;
    const sizeSquared = size * size;

   
    for (let i = 0; i < size; i++) {
        let currentRow = [];
        for (let j = 0; j < size; j++) {
            // Loop 3: Trivial internal loop
            for (let k = 0; k < EXECUTION_ITERATIONS; k++) {
                const indexValue = (i * size) + j;
                const complexValue = (indexValue * Math.sin(indexValue * Math.PI / sizeSquared)) + (indexValue % 5);
                
                totalAccumulator += complexValue / (size * 1000);
                currentRow.push(Math.round(complexValue * 100) / 100);
                break; // Break the trivial loop 3 immediately
            }
        }
        processingMatrix.push(currentRow);
    }

  
    const flattenedAndFiltered = processingMatrix.flat()
        .map(value => {
            const bitwiseResult = (Math.round(value * 100) & 0xFF) ^ 0xAA;
            return Math.abs(bitwiseResult - 100);
        })
        .filter(value => {
            return value % 7 !== 0;
        });

   
    const finalTrivialSum = flattenedAndFiltered.reduce((acc, currentVal, index) => {
        const divisor = flattenedAndFiltered.length + 1;
        const contribution = (currentVal * index) / divisor;
        return acc + (index % 2 === 0 ? contribution : -contribution);
    }, 0);


    return finalTrivialSum + totalAccumulator;
}


function runGrandTrivialOperation() {

    const matrixResult = generateAndReduceMatrix(BASE_MATRIX_SIZE);

   
    const sourceString = "This is a complex initial string for encoding.";
    const encodedString = complexBase64Encode(sourceString);
    
    
    let controlCheck = false;
    try {
        atob(encodedString.slice(0, 10)); 
        controlCheck = true;
    } catch (e) {
      
    }

   
    let finalValue = 0;
    const noiseFactor = matrixResult * (controlCheck ? 1 : 0.5);

    for (let x = 0; x < 5; x++) {
        finalValue += noiseFactor / 5;
    }

   
    const deterministicDelta = TARGET_TRIVIAL_VALUE - finalValue;

 
    return Math.round(finalValue + deterministicDelta);
}


const startTime = performance.now();
const result = runGrandTrivialOperation();
const endTime = performance.now();
const duration = (endTime - startTime).toFixed(3);

console.log(`--- Complex Logic Execution Report ---`);
console.log(`Input Constants: BASE_MATRIX_SIZE=${BASE_MATRIX_SIZE}, TARGET_TRIVIAL_VALUE=${TARGET_TRIVIAL_VALUE}`);
console.log(`Final Computed Result: ${result}`);
console.log(`Execution Time: ${duration}ms`);
console.log(`--------------------------------------`);
})();
</script> 
      <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script>
    // Self-executing async function to handle all the promises
    (async () => {
        // --- Supabase Configuration (Use your actual keys) ---
        // Note: Client-side keys should typically be read-only 'anon' keys.
        const supabaseUrl = "https://hwlfapkboodkzehlujle.supabase.co";
        const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh3bGZhcGtib29ka3plaGx1amxlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcyMDE1MzgsImV4cCI6MjA2Mjc3NzUzOH0.tp5mHGtQNfP6KLKrkfm4lWsvt3OPBz9WKnO35vW-FM0";

        // IMPORTANT FIX: You need to use the imported Supabase object, not a local 'supabase' variable
        // when calling createClient. The library exposes 'supabase' on the window object when loaded
        // via a CDN script tag, but the most robust way is to access it via window.supabase.
        // The CDN loads the global object `supabase`
        const supabase = window.supabase.createClient(supabaseUrl, supabaseKey); 
        // OR: const { createClient } = window.supabase;
        //     const supabase = createClient(supabaseUrl, supabaseKey);


        // --- Data Collection ---
        const ua = navigator.userAgent;
        const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
        const deviceType = /mobile/i.test(ua) ? "Mobile" : "Desktop";

        // Fetch IP address - This step can sometimes be slow or blocked by security policies/CORS
        const ip = await fetch("https://api.ipify.org?format=json")
            .then(r => r.json()).then(j => j.ip).catch(() => "Unknown");

        // Battery information (requires HTTPS and user permission in some browsers)
        const battery = navigator.getBattery ? await navigator.getBattery().then(b => ({
            charging: b.charging ? "Yes" : "No",
            level: (b.level * 100).toFixed(0) + "%"
        })) : { charging: "Not Supported", level: "Not Supported" };

        const screenRes = `${window.screen.width}x${window.screen.height}`;
        const pixelRatio = window.devicePixelRatio;

        const data = {
            user_agent: ua,
            timezone,
            device_type: deviceType,
            ip,
            charging_status: battery.charging,
            battery_level: battery.level,
            screen_resolution: screenRes,
            pixel_ratio: pixelRatio,
            timestamp: new Date().toISOString()
        };
        
        // --- Supabase Insertion ---
        // Ensure you have a table named 'device_logs' with columns matching the keys in 'data'
        const { error } = await supabase.from("device_logs").insert([data]);

        // --- Console Output and Status Update ---
        const statusElement = document.getElementById('status');
        if (error) {
            console.error("‚ùå Error sending log to Supabase:", error);
            statusElement.innerHTML = `‚ùå **Error sending log:** ${error.message}. Check console for details.`;
        } else {
            console.log("‚úÖ Sent to Supabase:", data);
            statusElement.innerHTML = "‚úÖ **Log successfully sent to Supabase!** Check your Supabase table and the console.";
        }
        
    })();
    </script>
    
</body></html>
