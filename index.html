<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Carbon Footprint Calculator</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Roboto',sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px;position:relative;overflow-x:hidden}.container{background:#fff;border-radius:16px;box-shadow:0 20px 60px rgba(0,0,0,0.3);max-width:700px;width:100%;padding:40px;animation:slideIn 0.5s ease-out;position:relative}.intro-screen{text-align:center;animation:fadeIn 0.6s ease-in}.intro-screen.hidden{display:none}.intro-icon{font-size:100px;margin-bottom:20px;animation:bounce 2s ease-in-out infinite}.intro-title{font-size:32px;font-weight:700;color:#333;margin-bottom:20px;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.intro-subtitle{font-size:18px;color:#666;margin-bottom:30px;line-height:1.6}.importance-section{background:linear-gradient(135deg,#e8f5e9,#c8e6c9);border-radius:12px;padding:25px;margin:25px 0;text-align:left}.importance-section h3{color:#2e7d32;margin-bottom:15px;font-size:20px;text-align:center}.importance-points{list-style:none;padding:0}.importance-points li{padding:12px 0;padding-left:35px;position:relative;color:#1b5e20;line-height:1.7;font-size:15px;animation:fadeInUp 0.5s ease-out;animation-fill-mode:both}.importance-points li:nth-child(1){animation-delay:0.1s}.importance-points li:nth-child(2){animation-delay:0.2s}.importance-points li:nth-child(3){animation-delay:0.3s}.importance-points li:nth-child(4){animation-delay:0.4s}.importance-points li:nth-child(5){animation-delay:0.5s}.importance-points li:before{content:"üåç";position:absolute;left:0;font-size:20px}.start-btn{background:linear-gradient(135deg,#4caf50,#45a049);color:#fff;border:none;border-radius:12px;padding:18px 45px;font-size:18px;font-weight:600;cursor:pointer;transition:all 0.3s ease;box-shadow:0 4px 15px rgba(76,175,80,0.3);margin-top:20px}.start-btn:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(76,175,80,0.4);background:linear-gradient(135deg,#45a049,#4caf50)}.credits{margin-top:30px;padding-top:20px;border-top:2px solid #e0e0e0;font-size:14px;color:#999;text-align:center;line-height:1.8}.credits strong{color:#666;display:block;margin-bottom:5px;font-size:15px}.question-card{display:none;animation:slideInQ 0.4s ease-out}.question-card.active{display:block}.question-number{font-size:14px;color:#666;margin-bottom:10px;text-align:center}.question-title{font-size:24px;font-weight:500;color:#333;margin-bottom:30px;text-align:center;line-height:1.4}.options{display:flex;flex-direction:column;gap:15px}.option-btn{background:#f5f5f5;border:2px solid #e0e0e0;border-radius:8px;padding:16px 20px;cursor:pointer;transition:all 0.3s ease;font-size:16px;color:#333;text-align:left;position:relative;overflow:hidden}.option-btn:before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3),transparent);transition:left 0.5s}.option-btn:hover:before{left:100%}.option-btn:hover{background:#e3f2fd;border-color:#2196f3;transform:translateY(-2px);box-shadow:0 4px 12px rgba(33,150,243,0.2)}.option-btn.selected{background:#2196f3;color:#fff;border-color:#2196f3;transform:scale(1.02)}.progress-bar{height:8px;background:#e0e0e0;border-radius:4px;margin-bottom:30px;overflow:hidden;position:relative}.progress-fill{height:100%;background:linear-gradient(90deg,#4caf50,#8bc34a,#4caf50);background-size:200% 100%;transition:width 0.4s ease;border-radius:4px;animation:progressShine 2s linear infinite}.nav-buttons{display:flex;justify-content:space-between;margin-top:25px;gap:15px}.nav-btn{flex:1;padding:12px;border:none;border-radius:8px;font-size:14px;cursor:pointer;transition:all 0.3s ease;font-weight:500}.back-btn{background:#f5f5f5;color:#666}.back-btn:hover{background:#e0e0e0}.back-btn:disabled{opacity:0.5;cursor:not-allowed}.calculate-btn-container{text-align:center;margin-top:30px}.calculate-btn{background:linear-gradient(135deg,#4caf50,#45a049);color:#fff;border:none;border-radius:12px;padding:16px 40px;font-size:18px;font-weight:600;cursor:pointer;transition:all 0.3s ease;box-shadow:0 4px 15px rgba(76,175,80,0.3);display:inline-flex;align-items:center;gap:10px}.calculate-btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px rgba(76,175,80,0.4)}.calculate-btn:disabled{opacity:0.7;cursor:not-allowed}.loading-screen{display:none;text-align:center;padding:60px 20px;animation:fadeIn 0.5s ease-in}.loading-screen.active{display:block}.loader-container{position:relative;width:150px;height:150px;margin:30px auto}.spinner{width:100%;height:100%;border:8px solid #e0e0e0;border-top:8px solid #4caf50;border-radius:50%;animation:spin 1s linear infinite;position:absolute}.spinner2{width:80%;height:80%;top:10%;left:10%;border:6px solid transparent;border-top:6px solid #8bc34a;animation:spin 0.8s linear infinite reverse}.spinner3{width:60%;height:60%;top:20%;left:20%;border:4px solid transparent;border-top:4px solid #66bb6a;animation:spin 0.6s linear infinite}.leaf-center{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:50px;z-index:10;animation:float 2s ease-in-out infinite}.loading-text{font-size:20px;color:#666;margin-top:30px;font-weight:500;animation:pulse 1.5s ease-in-out infinite}.result-screen{display:none;text-align:center;animation:fadeIn 0.5s ease-in}.result-screen.active{display:block}.leaf-container{width:120px;height:120px;margin:30px auto;position:relative}.leaf-icon{font-size:80px;color:#4caf50;animation:spin 2s linear infinite;display:inline-block}.leaf-icon.calculating{animation:spin 1s linear infinite,glow 1.5s ease-in-out infinite}.percentage{font-size:72px;font-weight:700;color:#4caf50;margin:20px 0;animation:countUp 1.5s ease-out;text-shadow:0 2px 10px rgba(76,175,80,0.3)}.co2-amount{font-size:28px;color:#666;margin-bottom:15px;font-weight:500}.score-label{font-size:18px;color:#666;margin-bottom:25px;padding:15px;background:#f9f9f9;border-radius:8px}.comparison-bar{background:#f5f5f5;border-radius:8px;padding:20px;margin:20px 0;text-align:left}.comparison-item{display:flex;justify-content:space-between;align-items:center;margin:15px 0}.comparison-label{font-size:14px;color:#666;flex:1}.comparison-visual{flex:2;height:20px;background:#e0e0e0;border-radius:10px;margin:0 15px;position:relative;overflow:hidden}.comparison-fill{height:100%;border-radius:10px;transition:width 1s ease;position:relative}.comparison-value{font-size:14px;font-weight:600;min-width:60px;text-align:right}.category-breakdown{background:#f9f9f9;border-radius:12px;padding:20px;margin:20px 0;text-align:left}.category-breakdown h3{color:#333;margin-bottom:15px;font-size:18px;text-align:center}.category-item{margin:15px 0}.category-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.category-name{font-size:14px;font-weight:500;color:#333;display:flex;align-items:center;gap:8px}.category-bar{height:24px;background:#e0e0e0;border-radius:12px;overflow:hidden;position:relative}.category-fill{height:100%;border-radius:12px;transition:width 0.8s ease;display:flex;align-items:center;justify-content:flex-end;padding-right:10px;color:#fff;font-size:12px;font-weight:600}.suggestions{background:#f5f5f5;border-radius:12px;padding:25px;margin-top:30px;text-align:left}.suggestions h3{color:#333;margin-bottom:15px;font-size:20px}.suggestions ul{list-style:none}.suggestions li{padding:10px 0;padding-left:25px;position:relative;color:#555;line-height:1.6;animation:fadeInUp 0.5s ease-out;animation-fill-mode:both}.suggestions li:nth-child(1){animation-delay:0.1s}.suggestions li:nth-child(2){animation-delay:0.2s}.suggestions li:nth-child(3){animation-delay:0.3s}.suggestions li:nth-child(4){animation-delay:0.4s}.suggestions li:nth-child(5){animation-delay:0.5s}.suggestions li:nth-child(6){animation-delay:0.6s}.suggestions li:before{content:"üå±";position:absolute;left:0}.action-buttons{display:flex;gap:15px;justify-content:center;margin-top:25px;flex-wrap:wrap}.action-btn{background:#2196f3;color:#fff;border:none;border-radius:8px;padding:12px 24px;font-size:14px;cursor:pointer;transition:all 0.3s ease;font-weight:500;display:inline-flex;align-items:center;gap:8px;justify-content:center}.action-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(33,150,243,0.3)}.action-btn.secondary{background:#4caf50}.action-btn.secondary:hover{background:#45a049}.action-btn.share{background:#ff9800}.action-btn.share:hover{background:#f57c00}.action-btn.save{background:#9c27b0}.action-btn.save:hover{background:#7b1fa2}.toast{position:fixed;bottom:20px;left:50%;transform:translateX(-50%) translateY(100px);background:#333;color:#fff;padding:15px 25px;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.3);z-index:1000;opacity:0;transition:all 0.3s ease;max-width:90%;text-align:center}.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}@keyframes slideIn{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes slideInQ{from{opacity:0;transform:translateX(30px)}to{opacity:1;transform:translateX(0)}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeInUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}@keyframes glow{0%,100%{filter:drop-shadow(0 0 5px rgba(76,175,80,0.5))}50%{filter:drop-shadow(0 0 20px rgba(76,175,80,0.8))}}@keyframes countUp{from{opacity:0;transform:scale(0.5)}to{opacity:1;transform:scale(1)}}@keyframes progressShine{0%{background-position:200% 0}100%{background-position:-200% 0}}@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes float{0%,100%{transform:translate(-50%,-50%) translateY(0)}50%{transform:translate(-50%,-50%) translateY(-10px)}}@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.6}}</style></head><body><div class="container"><div class="intro-screen" id="intro-screen"><div class="intro-icon">üå±</div><h1 class="intro-title">Carbon Footprint Calculator</h1><p class="intro-subtitle">Discover your environmental impact and learn how to make a positive change for our planet</p><div class="importance-section"><h3>Why Carbon Footprint Matters</h3><ul class="importance-points"><li>Climate change is one of the greatest challenges facing humanity today, with rising global temperatures threatening ecosystems worldwide</li><li>Understanding your carbon footprint helps identify areas where you can reduce your environmental impact and contribute to a sustainable future</li><li>Small individual actions, when multiplied by millions, can create significant positive change for our planet</li><li>Reducing carbon emissions helps preserve biodiversity, protect natural resources, and ensure a livable planet for future generations</li><li>By measuring and tracking your footprint, you can set goals, monitor progress, and inspire others to take action</li></ul></div><button class="start-btn" onclick="startQuiz()">üöÄ Start Calculating</button><div class="credits"><strong>Created, Designed and Developed by</strong>Bhargav Todimela<br>KL University</div></div><div class="progress-bar" id="progress-container" style="display:none"><div class="progress-fill" id="progress"></div></div><div id="questions-container"></div><div class="loading-screen" id="loading-screen"><div class="loader-container"><div class="spinner"></div><div class="spinner spinner2"></div><div class="spinner spinner3"></div><div class="leaf-center">üçÉ</div></div><div class="loading-text">Calculating your carbon footprint...</div></div><div class="result-screen" id="result-screen"><div class="leaf-container"><div class="leaf-icon" id="leaf-icon">üçÉ</div></div><div class="percentage" id="percentage">0%</div><div class="co2-amount" id="co2-amount"></div><div class="score-label" id="score-label"></div><div class="comparison-bar" id="comparison-bar"></div><div class="category-breakdown" id="category-breakdown"></div><div class="suggestions" id="suggestions"></div><div class="action-buttons"><button class="action-btn secondary" onclick="restart()">üîÑ Calculate Again</button><button class="action-btn share" onclick="shareResults()">üì§ Share Results</button><button class="action-btn save" onclick="saveResults()">üíæ Save Results</button></div><div class="credits" style="margin-top:30px"><strong>Created, Designed and Developed by</strong>Bhargav Todimela<br>KL University</div></div></div><div class="toast" id="toast"></div><script>(function(){const q=[{q:"How do you commute to work?",c:"transport",o:[{t:"Walk or bicycle",v:5},{t:"Public transport",v:15},{t:"Electric vehicle",v:20},{t:"Hybrid vehicle",v:40},{t:"Gasoline car",v:60}]},{q:"How many kilometers do you travel by car per week?",c:"transport",o:[{t:"0-50 km",v:10},{t:"51-150 km",v:25},{t:"151-300 km",v:40},{t:"301-500 km",v:60},{t:"500+ km",v:80}]},{q:"How often do you fly per year?",c:"transport",o:[{t:"Never",v:0},{t:"1-2 times (domestic)",v:30},{t:"3-5 times (domestic)",v:50},{t:"1-2 times (international)",v:100},{t:"3+ times (international)",v:200}]},{q:"What type of home do you live in?",c:"housing",o:[{t:"Small apartment (<50m¬≤)",v:15},{t:"Medium apartment (50-100m¬≤)",v:25},{t:"Large apartment (100m¬≤+)",v:35},{t:"Small house (<150m¬≤)",v:40},{t:"Large house (150m¬≤+)",v:60}]},{q:"What is your primary heating source?",c:"housing",o:[{t:"Renewable energy",v:10},{t:"Electric heat pump",v:20},{t:"Natural gas",v:40},{t:"Oil heating",v:60},{t:"Coal heating",v:80}]},{q:"How is your home powered?",c:"housing",o:[{t:"100% renewable energy",v:5},{t:"Mixed renewable/grid",v:25},{t:"Standard grid electricity",v:50},{t:"Coal-based electricity",v:80}]},{q:"How often do you eat meat?",c:"food",o:[{t:"Vegan",v:5},{t:"Vegetarian",v:15},{t:"1-2 times per week",v:30},{t:"3-5 times per week",v:50},{t:"Daily",v:70}]},{q:"How much do you spend on food per week?",c:"food",o:[{t:"Less than $50",v:10},{t:"$50-$100",v:20},{t:"$100-$150",v:30},{t:"$150-$200",v:40},{t:"More than $200",v:50}]},{q:"Do you buy local/organic food?",c:"food",o:[{t:"Always",v:5},{t:"Often",v:15},{t:"Sometimes",v:30},{t:"Rarely",v:45},{t:"Never",v:60}]},{q:"How many electronic devices do you own?",c:"consumption",o:[{t:"1-2 devices",v:10},{t:"3-4 devices",v:20},{t:"5-6 devices",v:35},{t:"7-8 devices",v:50},{t:"9+ devices",v:70}]},{q:"How often do you buy new electronics?",c:"consumption",o:[{t:"Only when broken",v:5},{t:"Every 3-4 years",v:15},{t:"Every 2-3 years",v:30},{t:"Every year",v:50},{t:"Multiple times per year",v:70}]},{q:"What is your shopping frequency?",c:"consumption",o:[{t:"Minimal shopping",v:10},{t:"Occasional shopping",v:25},{t:"Regular shopping",v:40},{t:"Frequent shopping",v:60},{t:"Excessive shopping",v:80}]},{q:"Do you recycle regularly?",c:"lifestyle",o:[{t:"Always recycle everything",v:5},{t:"Recycle most items",v:20},{t:"Recycle sometimes",v:40},{t:"Rarely recycle",v:60},{t:"Never recycle",v:80}]},{q:"How much water do you use daily?",c:"lifestyle",o:[{t:"Very minimal (<50L)",v:10},{t:"Low (50-100L)",v:20},{t:"Moderate (100-150L)",v:35},{t:"High (150-200L)",v:50},{t:"Very high (200L+)",v:70}]},{q:"What is your energy consumption awareness?",c:"lifestyle",o:[{t:"Very conscious, always off",v:5},{t:"Usually turn off",v:20},{t:"Sometimes remember",v:40},{t:"Rarely turn off",v:60},{t:"Never turn off",v:80}]}];const catIcons={"transport":"üöó","housing":"üè†","food":"üçΩÔ∏è","consumption":"üõçÔ∏è","lifestyle":"‚ôªÔ∏è"};const catNames={"transport":"Transportation","housing":"Housing","food":"Food","consumption":"Consumption","lifestyle":"Lifestyle"};let ci=0,sc=0,ans=[],catScores={};function showToast(msg){const t=document.getElementById("toast");t.textContent=msg;t.classList.add("show");setTimeout(()=>t.classList.remove("show"),3000);}function startQuiz(){document.getElementById("intro-screen").classList.add("hidden");document.getElementById("progress-container").style.display="block";renderQ();}function r(){ci=0;sc=0;ans=[];catScores={};document.getElementById("result-screen").classList.remove("active");document.getElementById("loading-screen").classList.remove("active");document.getElementById("intro-screen").classList.add("hidden");document.getElementById("progress-container").style.display="block";renderQ();}function renderQ(){const c=document.getElementById("questions-container");c.innerHTML="";const qc=document.createElement("div");qc.className="question-card active";const qn=document.createElement("div");qn.className="question-number";qn.textContent=`Question ${ci+1} of ${q.length}`;qc.appendChild(qn);const qt=document.createElement("h2");qt.className="question-title";qt.textContent=q[ci].q;qc.appendChild(qt);const opts=document.createElement("div");opts.className="options";q[ci].o.forEach((o,i)=>{const btn=document.createElement("button");btn.className="option-btn";btn.textContent=o.t;btn.onclick=()=>selectO(i);btn.onkeydown=(e)=>{if(e.key==="Enter"||e.key===" "){e.preventDefault();selectO(i);}};opts.appendChild(btn);});qc.appendChild(opts);const nav=document.createElement("div");nav.className="nav-buttons";const backBtn=document.createElement("button");backBtn.className="nav-btn back-btn";backBtn.textContent="‚Üê Previous";backBtn.disabled=ci===0;backBtn.onclick=()=>{if(ci>0){ci--;renderQ();}};nav.appendChild(backBtn);if(ci===q.length-1&&ans[ci]!==undefined){const calcBtn=document.createElement("div");calcBtn.className="calculate-btn-container";const btn=document.createElement("button");btn.className="calculate-btn";btn.innerHTML="üçÉ Calculate My Footprint";btn.onclick=calculateResults;calcBtn.appendChild(btn);qc.appendChild(calcBtn);}qc.appendChild(nav);c.appendChild(qc);updateP();setTimeout(()=>{const firstBtn=qc.querySelector(".option-btn");if(firstBtn)firstBtn.focus();},100);}function selectO(i){const btns=document.querySelectorAll(".option-btn");btns.forEach(b=>b.classList.remove("selected"));btns[i].classList.add("selected");ans[ci]=q[ci].o[i].v;const cat=q[ci].c;if(!catScores[cat])catScores[cat]=0;catScores[cat]+=q[ci].o[i].v;setTimeout(()=>{ci++;if(ci<q.length){renderQ();}else{renderQ();}},400);}function calculateResults(){if(ans.length!==q.length||ans.some(a=>a===undefined)){showToast("Please answer all questions first!");return;}document.getElementById("questions-container").innerHTML="";document.getElementById("progress-container").style.display="none";document.getElementById("loading-screen").classList.add("active");setTimeout(()=>{document.getElementById("loading-screen").classList.remove("active");showR();},2500);}function updateP(){const p=((ci+1)/q.length)*100;document.getElementById("progress").style.width=p+"%";}function showR(){const leaf=document.getElementById("leaf-icon");leaf.classList.add("calculating");sc=ans.reduce((a,b)=>a+b,0);const maxSc=q.reduce((m,qi)=>m+Math.max(...qi.o.map(o=>o.v)),0);const perc=Math.round((sc/maxSc)*100);const co2Tons=(perc/100)*16;setTimeout(()=>{leaf.classList.remove("calculating");animateP(perc,co2Tons);},1000);}function animateP(target,co2Tons){const pe=document.getElementById("percentage");let curr=0;const inc=target/40;const timer=setInterval(()=>{curr+=inc;if(curr>=target){curr=target;clearInterval(timer);showS(target,co2Tons);}pe.textContent=Math.round(curr)+"%";},40);}function showS(perc,co2Tons){document.getElementById("result-screen").classList.add("active");document.getElementById("co2-amount").textContent=`‚âà ${co2Tons.toFixed(1)} tons CO‚ÇÇ per year`;let label="",sug=[];if(perc<=20){label="Excellent! üåü You have a very low carbon footprint. Keep up the amazing work!";sug=["Continue using public transport or cycling","Maintain your renewable energy usage","Keep up the minimal consumption lifestyle","Share your eco-friendly practices with others","Consider becoming a climate advocate"];}else if(perc<=40){label="Good! üëç You're doing well, but there's room for improvement.";sug=["Consider reducing meat consumption","Switch to renewable energy sources","Use public transport more often","Reduce unnecessary shopping","Start composting organic waste"];}else if(perc<=60){label="Moderate. üìä Your carbon footprint is average. Let's work on reducing it!";sug=["Switch to energy-efficient appliances","Reduce car usage and consider carpooling","Eat less meat and more plant-based foods","Improve recycling habits","Consider renewable energy options","Use water-saving fixtures"];}else if(perc<=80){label="High. ‚ö†Ô∏è Your carbon footprint needs attention. Time for action!";sug=["Reduce air travel significantly","Switch to public transport or electric vehicles","Install renewable energy systems","Reduce meat consumption to 1-2 times per week","Minimize shopping and buy only essentials","Improve home insulation and energy efficiency","Use LED lighting throughout your home"];}else{label="Very High. üö® Immediate action is needed to reduce your impact!";sug=["Drastically reduce air travel","Switch to renewable energy immediately","Eliminate or minimize car usage","Adopt a plant-based diet","Reduce consumption and shopping","Upgrade to energy-efficient appliances","Consider downsizing your living space","Join environmental groups for support","Calculate your footprint monthly to track progress"];}document.getElementById("score-label").textContent=label;const avgPerc=50;const avgCo2=8;const comp=document.getElementById("comparison-bar");comp.innerHTML=`<div style="font-weight:600;margin-bottom:15px;text-align:center;color:#333">üìä Comparison with Average Person</div><div class="comparison-item"><span class="comparison-label">Your Footprint</span><div class="comparison-visual"><div class="comparison-fill" style="width:${perc}%;background:linear-gradient(90deg,#f44336,#ff9800)"></div></div><span class="comparison-value">${perc}%</span></div><div class="comparison-item"><span class="comparison-label">Average Person</span><div class="comparison-visual"><div class="comparison-fill" style="width:${avgPerc}%;background:linear-gradient(90deg,#2196f3,#03a9f4)"></div></div><span class="comparison-value">${avgPerc}%</span></div>`;const catMax={transport:340,food:180,housing:220,consumption:220,lifestyle:230};const catB=document.getElementById("category-breakdown");let catHTML="<h3>üìä Category Breakdown</h3>";Object.keys(catScores).forEach(cat=>{const score=catScores[cat];const max=catMax[cat]||200;const p=Math.round((score/max)*100);const colors=p<=30?"#4caf50":p<=60?"#ff9800":"#f44336";catHTML+=`<div class="category-item"><div class="category-header"><span class="category-name">${catIcons[cat]} ${catNames[cat]}</span><span style="font-size:14px;font-weight:600;color:${colors}">${p}%</span></div><div class="category-bar"><div class="category-fill" style="width:${Math.min(p,100)}%;background:${colors}">${p}%</div></div></div>`;});catB.innerHTML=catHTML;const sugC=document.getElementById("suggestions");sugC.innerHTML="<h3>üí° Suggestions to Reduce Your Footprint:</h3><ul>"+sug.map(s=>"<li>"+s+"</li>").join("")+"</ul>";}function shareResults(){const perc=Math.round((sc/q.reduce((m,qi)=>m+Math.max(...qi.o.map(o=>o.v)),0))*100);const label=document.getElementById("score-label").textContent.split(".")[0];const text=`üå± My Carbon Footprint: ${perc}% - ${label}. Calculate yours at ${window.location.href} | Created by Bhargav Todimela, KL University`;if(navigator.share){navigator.share({title:"Carbon Footprint Calculator",text:text,url:window.location.href}).then(()=>showToast("Results shared successfully! üì§")).catch(()=>copyToClipboard(text));}else{copyToClipboard(text);}}function copyToClipboard(text){if(navigator.clipboard&&navigator.clipboard.writeText){navigator.clipboard.writeText(text).then(()=>showToast("Results copied to clipboard! üìã")).catch(()=>showToast("Unable to copy. Please share manually."));}else{const ta=document.createElement("textarea");ta.value=text;ta.style.position="fixed";ta.style.opacity="0";document.body.appendChild(ta);ta.select();try{document.execCommand("copy");showToast("Results copied to clipboard! üìã");}catch(e){showToast("Unable to copy. Please share manually.");}document.body.removeChild(ta);}}function saveResults(){try{const result={score:sc,percentage:Math.round((sc/q.reduce((m,qi)=>m+Math.max(...qi.o.map(o=>o.v)),0))*100),categories:catScores,co2Tons:((Math.round((sc/q.reduce((m,qi)=>m+Math.max(...qi.o.map(o=>o.v)),0))*100)/100)*16).toFixed(1),date:new Date().toISOString()};localStorage.setItem("carbonFootprintResult",JSON.stringify(result));showToast("Results saved successfully! üíæ You can view them anytime.");}catch(e){showToast("Unable to save. Please try again.");}}window.restart=r;window.shareResults=shareResults;window.saveResults=saveResults;document.addEventListener("keydown",(e)=>{if(e.key==="ArrowLeft"&&ci>0&&!document.getElementById("result-screen").classList.contains("active")&&!document.getElementById("intro-screen").classList.contains("hidden")){ci--;renderQ();}else if(e.key==="ArrowRight"&&ci<q.length-1&&!document.getElementById("result-screen").classList.contains("active")){const selected=document.querySelector(".option-btn.selected");if(selected){ci++;renderQ();}}else if(e.key==="ArrowUp"||e.key==="ArrowDown"){e.preventDefault();const btns=Array.from(document.querySelectorAll(".option-btn"));const current=document.activeElement;const idx=btns.indexOf(current);if(e.key==="ArrowUp"&&idx>0)btns[idx-1].focus();else if(e.key==="ArrowDown"&&idx<btns.length-1)btns[idx+1].focus();}else if(e.key==="Enter"&&ci===q.length-1&&ans[ci]!==undefined&&!document.getElementById("result-screen").classList.contains("active")){const calcBtn=document.querySelector(".calculate-btn");if(calcBtn)calcBtn.click();}});const devToolsCheck=()=>{const start=performance.now();debugger;const end=performance.now();if(end-start>100){document.body.innerHTML='<div style="display:flex;justify-content:center;align-items:center;height:100vh;background:#f44336;color:#fff;font-size:24px;text-align:center;padding:20px;"><div><h1>‚ö†Ô∏è Dev Tools Not Allowed</h1><p>Please close developer tools to continue.</p></div></div>';while(true){debugger;}}};setInterval(devToolsCheck,1000);const detectDevTools=()=>{let widthThreshold=window.outerWidth-window.innerWidth>160;let heightThreshold=window.outerHeight-window.innerHeight>160;if(widthThreshold||heightThreshold){document.body.innerHTML='<div style="display:flex;justify-content:center;align-items:center;height:100vh;background:#f44336;color:#fff;font-size:24px;text-align:center;padding:20px;"><div><h1>‚ö†Ô∏è Dev Tools Not Allowed</h1><p>Please close developer tools to continue.</p></div></div>';while(true){debugger;}}};setInterval(detectDevTools,500);})();</script></body></html>
